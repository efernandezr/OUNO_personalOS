# PersonalOS Report Template

This document defines the unified report structure used across all PersonalOS commands.

## Standard Structure

All PersonalOS reports follow this structure:

1. **Report Metadata** - Type, date, status, source count
2. **Executive Summary** (optional) - 2-3 sentence findings summary
3. **Primary Content** - Varies by report type
4. **Sources** - All referenced URLs/notes with clickable links

## Report Metadata Table

Every report begins with a metadata table:

```markdown
## Report Metadata
| Field | Value |
|-------|-------|
| **Generated** | {ISO timestamp} |
| **Report Type** | {type} |
| **Status** | {success | partial | degraded} |
| **Sources** | {count} |
```

### Status Values

| Status | Meaning |
|--------|---------|
| `success` | All operations completed normally |
| `partial` | Some sources failed, but report generated |
| `degraded` | Fallback tools used, quality may be reduced |

## Source Citation Format

### Inline Citations

Use markdown links with source name and URL:

```markdown
**Source**: [Article Title](https://example.com/article)
```

For multiple sources:
```markdown
**Sources**: [Source 1](url1), [Source 2](url2)
```

### Sources Table

Every report ends with a consolidated sources table:

```markdown
## Sources

All sources referenced in this report:

| Source | URL | Type |
|--------|-----|------|
| {name} | [{url}]({url}) | {type} |
```

### Source Types

| Type | Description |
|------|-------------|
| `firecrawl` | Content extracted via Firecrawl MCP |
| `perplexity` | Real-time intelligence via Perplexity |
| `web` | Fallback web fetch |
| `internal` | Internal notes (brain dumps) |

### Failed Sources Section

When sources fail, list them separately:

```markdown
### Failed Sources

| Source | Error |
|--------|-------|
| {url} | {reason} |
```

## Report-Type Specific Sections

### Market Intelligence

```
1. Report Metadata
2. Real-Time Intelligence (if enabled)
   - Breaking News
   - Trend Signals
   - Sources Discovered
3. Priority Updates
4. Trend Analysis
5. Content Opportunities
6. All Insights
7. Sources
```

### Daily Brief

```
1. Report Metadata
2. Status Banner (if issues)
3. What's Breaking (if real-time enabled)
4. Must-Know Today
5. Metrics Snapshot
6. Priority Tasks (optional)
7. Content Opportunity of the Day
8. Recommended Reading
9. Focus Suggestion
10. Sources
```

### Brain Dump Analysis

```
1. Report Metadata
2. Content Pillars Identified
3. Theme Evolution
4. Underexplored Ideas
5. Connection Map
6. Content Queue Recommendations
7. Source Notes (internal references)
```

### Content Package

```
1. Summary file (summary.md)
   - Generation timestamp
   - Source analysis
   - Generated content list
2. Platform files (linkedin-v1.md, etc.)
   - Content
   - Sources Referenced
   - Generation Info
```

## Validation Error Banners

When validation fails, include a warning banner:

```markdown
> ⚠️ **DATA QUALITY WARNING**
> Agent output had validation issues: {list specific issues}
> Some sections may be incomplete or missing.
```

## Footer

Every report ends with:

```markdown
---

*Generated by PersonalOS | {agent-name} | {date}*
```

## Source Object Schema

All source citations use this structure:

```json
{
  "url": "https://example.com/article",
  "name": "Article Title",
  "type": "firecrawl",
  "accessed_at": "2026-01-10T10:30:00Z"
}
```

### Required Fields
- `url` - Valid URI format
- `name` - Human-readable name (min 1 character)

### Optional Fields
- `type` - Source type (firecrawl, perplexity, web, internal)
- `accessed_at` - ISO 8601 timestamp

## Example: Market Intelligence Report

```markdown
# Market Intelligence Brief

## Report Metadata
| Field | Value |
|-------|-------|
| **Generated** | 2026-01-10T10:30:00Z |
| **Report Type** | market-intelligence |
| **Timeframe** | 48h |
| **Status** | success |
| **Sources Scanned** | 12 |
| **Real-Time** | success |

---

## Real-Time Intelligence

**Budget Remaining**: 85% | **Queries Used**: 2 | **Cache Hits**: 1

### Breaking News (Last 48h)

#### Claude 4 Released
Anthropic announces Claude 4 with enhanced reasoning capabilities.

**Sources**: [Anthropic Blog](https://anthropic.com/news/claude-4), [TechCrunch](https://techcrunch.com/claude-4)

---

## Priority Updates

### AI Agents Transform Marketing Operations
**Source**: [Marketing Week](https://marketingweek.com/ai-agents)
**Topics**: AI Agents, Marketing Operations

Enterprise marketing teams are adopting AI agents for campaign automation...

---

## Sources

All sources referenced in this report:

| Source | URL | Type |
|--------|-----|------|
| Anthropic Blog | [https://anthropic.com/news/claude-4](https://anthropic.com/news/claude-4) | perplexity |
| TechCrunch | [https://techcrunch.com/claude-4](https://techcrunch.com/claude-4) | perplexity |
| Marketing Week | [https://marketingweek.com/ai-agents](https://marketingweek.com/ai-agents) | firecrawl |

---

*Generated by PersonalOS | intelligence-agent | 2026-01-10*
```

## Internal References (Brain Dumps)

For brain dump analysis, sources are internal note references, not web URLs:

```markdown
## Source Notes

All notes analyzed in this report (internal references, not web URLs):

| Note | Date | Source | Tags |
|------|------|--------|------|
| AI Agent Ideas | 2026-01-05 | notion | AI, Agents |
| Marketing Automation Notes | 2026-01-03 | local | Marketing |
```

These can be traced via `source_note_ids` in the agent output.

## Version

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2026-01-10 | Initial unified template |
